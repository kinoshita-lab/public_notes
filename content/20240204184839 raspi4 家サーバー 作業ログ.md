# 20240204184839 raspi4 家サーバー 作業ログ
#tech #raspi  #server


## 買ったもの
- 【国内正規代理店品】Raspberry Pi4 ModelB 4GB ラズベリーパイ4 技適対応品【RS・OKdo版】 https://amazon.co.jp/dp/B081YD3VL5
- Smraza Raspberry Pi 4 USB-C (Type C）電源、5V 3A ラズベリーACアダプター RPi 4b Model B 1GB / 2GB / 4GB/ 8GB適用 https://amazon.co.jp/dp/B07DN5V3VN
- Flirc ラズベリーパイ4ケース シルバー https://amazon.co.jp/dp/B07WG4DW52

- Ediloca EN760 SSD ヒートシンク付き 1TB PCIe Gen4x4 NVMe M.2 2280 PS5動作確認済み 最大読込: 5000MB/s 最大書き：4500MB/s 3D NAND TLC 内蔵SSD ダイナミック SLC キャッシュ メーカー5年保証 https://amazon.co.jp/dp/B0C9TD1FM4
- ORICO M.2 SSDケース USB-C to NVMe M-Key / B&M Key（Nvmeのみ）に対応 USB 3.1 Gen2 10Gbps 外付けケース ABS+アルミ材質 UASPサポート2230/2242/2260/2280 SSD対応 M.2 SSD 変換アダプタ エンクロージャ ケース 黑 M2PV-BK https://amazon.co.jp/dp/B08GC326LL



## セットアップ

[[20240204221756 raspberry Pi Imagerを使ってSDカードを作成]]

### ルーターの設定
- DHCPスタティックIP設定 を追加

### 起動
microSDに必要なデータを書きこんだら、Raspi 4に挿して、LANケーブルなど繋いで起動。
wsl2上のubuntuから、sshで接続確認。(名前とパスワード。後で無効化する)

ここまでできたら、SSD bootの設定をする。

[[20240204221948 raspberry piをSSD bootに設定]]

[[20240204222141 sshを公開鍵認証にする]]



### OSを最新に

`$ sudo apt update`
してから、
```sh
$ sudo apt full-upgrade
...
$ sudo reboot (最新にしたので再起動)
```
`
### WEBサーバーを入れる
- [[20240205150537 Caddyをraspi4にインストール|Caddyをraspi4にインストール]]
- [[20240205164639 Caddyの設定|Caddyの設定]]
